---
import type { File } from "@/services/types";

interface Props {
  file: Omit<File, "userId">;
}

const { file } = Astro.props;
---

<form hx-put={`/file/${file.id}/update`}>
  <div style="display: flex; justify-content: space-between;">
    <div style="display: flex;">
      <label for="file-name" style="margin-right: 1rem;">File name</label>
      <input
        type="text"
        id="file-name"
        name="fileName"
        value={file.name}
        style="max-width: 11rem;"
      />
    </div>

    <button type="submit">Update</button>
  </div>

  <br />
  <br />

  <label for="file-body" style="display:block; margin-bottom: 1rem;">Body</label
  >
  <div id="editor"></div>
  <input type="hidden" id="file-body" name="fileBody" value={file.html} />

  <file-editor data-file={file.html}></file-editor>
</form>
